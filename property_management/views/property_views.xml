<?xml version="1.0" encoding="utf-8"?>
<odoo>
   <record id="view_property_list" model="ir.ui.view">
       <field name="name">property.list</field>
       <field name="model">property.management</field>
       <field name="arch" type="xml">
           <list>
               <field name="name"/>
               <field name="property_type"/>
               <field name="currency_id" invisible="1"/>


               <field name="price_per_month" widget="monetary"
                      options="{'currency_field': 'currency_id'}"/>
               <field name="status" widget="badge"
                      decoration-success="status == 'available'"
                      decoration-info="status == 'rented'"
                      decoration-danger="status =='maintenance'"/>
               <field name="company_id"/>
               <field name="description"/>
               <field name="num_bedrooms"/>


           </list>
       </field>
   </record>
   <record id="view_property_form" model="ir.ui.view">
       <field name="name">property.form</field>
       <field name="model">property.management</field>
       <field name="arch" type="xml">
           <form>
               <header>
                   <button name="action_maintenance" type="object" string="Set Maintenance"
                        groups="property_management.group_property_manager"
                        class="oe_highlight"/>
                    <button name="action_available" type="object" string="Set Available"
                        groups="property_management.group_property_manager"
                        class="oe_highlight"/>
                   <field name="status" widget="statusbar" options="{'clickable': false}"/>
               </header>
               <sheet>
                   <div class="oe_title">
                       <h1>
                           <field name="name" placeholder="Property Name"/>
                       </h1>
                   </div>
                   <group>
                       <group string="Property Details">
                           <field name="property_type" widget="selection"/>
                           <field name="currency_id" invisible="1"/>


                           <field name="price_per_month" widget="monetary"
                                  options="{'currency_field': 'currency_id'}"/>
                           <field name="price_per_year" widget="monetary"
                                  options="{'currency_field': 'currency_id'}"/>
                       </group>
                       <group string="Media">
                           <field name="image" widget="image" class="oe_avatar"/>
                       </group>

                   </group>
                   <group string="Additional Info">
                            <group>
                               <field name="is_discount"/>
                                <field name="discount_percent" invisible="is_discount != True"/>
                                <field name="discounted_price" invisible="is_discount != True"/>
                            </group>
                            <group>
                              <field name="address" readonly="status in 'rented'" />
                              <field name="year_built" readonly="status in 'rented'" />
                              <field name="area_sqft" readonly="status in 'rented'"/>
                            </group>

                        </group>
                   <notebook>
<page string="Description">
   <field name="description" placeholder="Enter property description..."/>
   <div>
       <label for="num_bedrooms" string="Num of Bed Rooms" invisible="property_type in ['commercial', 'office']"/>
       <field name="num_bedrooms" invisible="property_type in ['commercial', 'office']"/>
   </div>
    <div>
        <label for="license_number" string=" License Number" invisible="property_type in ['apartment','villa']"/>
        <field name="license_number" invisible="property_type in ['apartment', 'villa']"/>
    </div>
</page>


                       <page string="Features">
                           <field name="feature_ids" widget="many2many_tags"/>
                       </page>
                   </notebook>
               </sheet>
               <!--                <div class="oe_chatter">-->
               <!--                    <field name="message_ids" widget="mail_thread" options="{'activity': True}"/>-->
               <!--                </div> for odoo 17-->
               <chatter/> <!-- odoo 18 -->
           </form>
       </field>
   </record>
   <record id="view_property_kanban" model="ir.ui.view">
       <field name="name">property.kanban</field>
       <field name="model">property.management</field>
       <field name="arch" type="xml">
           <kanban>
               <field name="name"/>
               <field name="property_type"/>
               <field name="price_per_month"/>
               <field name="status"/>
               <field name="image"/>
               <templates>
                   <t t-name="kanban-box">
                       <div t-attf-class="oe_kanban_card oe_kanban_global_click {{ record.status.raw_value == 'available' ? 'oe_kanban_color_0' : record.status.raw_value == 'rented' ? 'oe_kanban_color_1' : 'oe_kanban_color_2' }}">
                           <div class="row">
                               <div class="col-4">
                                   <field name="image" widget="image" class="oe_kanban_image"/>
                               </div>
                               <div class="col-8">
                                   <strong>
                                       <field name="name"/>
                                   </strong>
                                   <br/>
                                   <div>Type:
                                       <field name="property_type"/>
                                   </div>
                                   <div>Rent:
                                       <field name="price_per_month" widget="monetary"/>
                                   </div>
                                   <div>Status:
                                       <field name="status"/>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </t>
               </templates>
           </kanban>
       </field>
   </record>
<record id="view_property_search" model="ir.ui.view">
   <field name="name">property.management.search</field>
   <field name="model">property.management</field>
   <field name="arch" type="xml">
       <search>
           <!-- Basic Search Fields -->
           <field name="name" string="Property Name"/>
           <field name="property_type"/>


           <!-- Predefined Filters -->
           <filter string="Available" name="available" domain="[('status','=','available')]"/>
           <filter string="Rented" name="rented" domain="[('status','=','rented')]"/>


           <!-- Group By Options -->
           <group expand="0" string="Group By">
               <filter string="Property Type" name="group_by_type" context="{'group_by':'property_type'}"/>
               <filter string="Status" name="group_by_status" context="{'group_by':'status'}"/>
           </group>
       </search>
   </field>
</record>


</odoo>
