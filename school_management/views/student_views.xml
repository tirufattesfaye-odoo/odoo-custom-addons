<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Student List -->
  <record id="view_student_list" model="ir.ui.view">
    <field name="name">school.student.list</field>
    <field name="model">school.student</field>
    <field name="arch" type="xml">
      <list>
        <field name="student_code"/>
        <field name="name"/>
        <field name="gender"/>
        <field name="dob"/>
        <field name="age"/>
        <field name="academic_year_id"/>
        <field name="state"/>
        <field name="active"/>
      </list>
    </field>
  </record>

  <!-- Student Form -->
  <record id="view_student_form" model="ir.ui.view">
    <field name="name">school.student.form</field>
    <field name="model">school.student</field>
    <field name="arch" type="xml">
      <form string="Student">
        <header>
          <button name="action_enroll" type="object" string="Enroll" class="oe_highlight"
                  modifiers="{'invisible':[('state','!=','draft')]}"/>
          <button name="action_set_alumni" type="object" string="Set Alumni"
                  modifiers="{'invisible':[('state','!=','enrolled')]}"/>
          <field name="state" widget="statusbar"
                 statusbar_visible="draft,enrolled,alumni,inactive"/>
        </header>

        <sheet>
          <group>
            <group>
              <field name="student_code" modifiers="{'readonly': True}"/>
              <field name="name"/>
              <field name="gender"/>
              <field name="dob"/>
              <field name="age" modifiers="{'readonly': True}"/>
              <field name="academic_year_id"/>
              <field name="relation"/>
            </group>
            <group>
              <field name="photo" widget="image"/>
              <field name="partner_id"/>
              <field name="active"/>
            </group>
          </group>

          <notebook>
            <page string="Guardians">
              <field name="guardian_ids" widget="many2many_tags"
                     context="{'default_student_ids': [(4, id)]}"/>
            </page>
            <page string="Notes">
              <field name="notes"/>
            </page>
          </notebook>
        </sheet>

        <chatter/>
      </form>
    </field>
  </record>

  <!-- Search View -->
  <record id="view_student_search" model="ir.ui.view">
    <field name="name">school.student.search</field>
    <field name="model">school.student</field>
    <field name="arch" type="xml">
      <search>
        <field name="name"/>
        <field name="student_code"/>
        <field name="academic_year_id"/>
        <field name="gender"/>
        <filter name="enrolled" string="Enrolled" domain="[('state','=','enrolled')]"/>
        <filter name="alumni" string="Alumni" domain="[('state','=','alumni')]"/>
        <filter name="inactive" string="Inactive" domain="[('state','=','inactive')]"/>
      </search>
    </field>
  </record>
</odoo>
